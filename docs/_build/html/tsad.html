

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>tsad package &mdash; Time Series Anomaly Detection 0.15 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/project-template.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/project-template.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-rendered-html.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="tsad.eda package" href="tsad.eda.html" />
    <link rel="prev" title="Evaluation of AD algorithms perfomance" href="Evaluating.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Time Series Anomaly Detection
          

          
          </a>

          
            
            
              <div class="version">
                0.15
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Description</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="readme.html">Time Series Anomaly detection.</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Evaluating.html">Evaluation of AD algorithms perfomance</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">tsad package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tsad.eda.html">tsad.eda package</a></li>
<li class="toctree-l3"><a class="reference internal" href="tsad.evaluating.html">tsad.evaluating package</a></li>
<li class="toctree-l3"><a class="reference internal" href="tsad.models.html">tsad.models package</a></li>
<li class="toctree-l3"><a class="reference internal" href="tsad.spike.html">tsad.spike package</a></li>
<li class="toctree-l3"><a class="reference internal" href="tsad.useful.html">tsad.useful package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-tsad.feature_importance">tsad.feature_importance module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-tsad.generate_residuals">tsad.generate_residuals module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-tsad.main">tsad.main module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-tsad.stastics">tsad.stastics module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-tsad">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Time Series Anomaly Detection</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>tsad package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/tsad.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tsad-package">
<h1>tsad package<a class="headerlink" href="#tsad-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="tsad.eda.html">tsad.eda package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tsad.eda.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsad.eda.html#tsad-eda-statistics-module">tsad.eda.statistics module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsad.eda.html#module-tsad.eda">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tsad.evaluating.html">tsad.evaluating package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tsad.evaluating.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsad.evaluating.html#module-tsad.evaluating.evaluating">tsad.evaluating.evaluating module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsad.evaluating.html#module-tsad.evaluating.src">tsad.evaluating.src module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsad.evaluating.html#module-tsad.evaluating.univariate_funcs">tsad.evaluating.univariate_funcs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsad.evaluating.html#module-tsad.evaluating">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tsad.models.html">tsad.models package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tsad.models.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsad.models.html#module-tsad.models.ae">tsad.models.ae module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsad.models.html#module-tsad.models.fit">tsad.models.fit module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsad.models.html#module-tsad.models.lstm">tsad.models.lstm module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsad.models.html#module-tsad.models">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tsad.spike.html">tsad.spike package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tsad.spike.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsad.spike.html#module-tsad.spike.src">tsad.spike.src module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsad.spike.html#module-tsad.spike">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tsad.useful.html">tsad.useful package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tsad.useful.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsad.useful.html#module-tsad.useful.imports">tsad.useful.imports module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsad.useful.html#module-tsad.useful.iterators">tsad.useful.iterators module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsad.useful.html#module-tsad.useful.ts">tsad.useful.ts module</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsad.useful.html#module-tsad.useful">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-tsad.feature_importance">
<span id="tsad-feature-importance-module"></span><h2>tsad.feature_importance module<a class="headerlink" href="#module-tsad.feature_importance" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="tsad.feature_importance.feature_importance">
<span class="sig-prename descclassname"><span class="pre">tsad.feature_importance.</span></span><span class="sig-name descname"><span class="pre">feature_importance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">residuals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analysis_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'collective'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_from</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_till</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weigh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tsad/feature_importance.html#feature_importance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tsad.feature_importance.feature_importance" title="Permalink to this definition">¶</a></dt>
<dd><p>Feature importance calculation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>residuals</strong><span class="classifier">pandas.DataFrame()</span></dt><dd></dd>
<dt><strong>analysis_type</strong><span class="classifier">str, “single”/”collective”, “single” by default</span></dt><dd></dd>
<dt><strong>date_from</strong><span class="classifier">str in format ‘yyyy-mm-dd HH:MM:SS’, None by default</span></dt><dd></dd>
<dt><strong>date_till</strong><span class="classifier">str in format ‘yyyy-mm-dd HH:MM:SS’, None by default</span></dt><dd></dd>
<dt><strong>weigh</strong><span class="classifier">boolean, True by default</span></dt><dd><p>If analysis_type == “collective”.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>data</strong><span class="classifier">pandas.DataFrame().</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-tsad.generate_residuals">
<span id="tsad-generate-residuals-module"></span><h2>tsad.generate_residuals module<a class="headerlink" href="#module-tsad.generate_residuals" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="tsad.generate_residuals.abs">
<span class="sig-prename descclassname"><span class="pre">tsad.generate_residuals.</span></span><span class="sig-name descname"><span class="pre">abs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tsad/generate_residuals.html#abs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tsad.generate_residuals.abs" title="Permalink to this definition">¶</a></dt>
<dd><p>Функция позволяющая получить разницу</p>
</dd></dl>

</div>
<div class="section" id="module-tsad.main">
<span id="tsad-main-module"></span><h2>tsad.main module<a class="headerlink" href="#module-tsad.main" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="tsad.main.AnomalyDetection">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">tsad.main.</span></span><span class="sig-name descname"><span class="pre">AnomalyDetection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">preproc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_res_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res_analys_alg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tsad/main.html#AnomalyDetection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tsad.main.AnomalyDetection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Pipeline Time Series Anomaly Detection based on 
SOTA deep learning forecasting algorithms.</p>
<p>Данный пайплайн избавит вас от проблем написания кода для:</p>
<ol class="arabic simple">
<li><p>формирование выборок для подачи в sequence модели</p></li>
<li><p>обучения моделей</p></li>
<li><p>поиска аномалий в невязках</p></li>
</ol>
<p>Данный пайплайн позволяет:</p>
<ol class="arabic simple">
<li><p>пронгозировать временные ряды, в том числе многомерные.</p></li>
<li><p>вычислять невязку между прогнозом и настоящими значениями</p></li>
<li><p>анализировать невязку, и возращать разметку аномалиями</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>preproc</strong><span class="classifier">object, default = sklearn.preprocessing.MinMaxScaler()</span></dt><dd><p>Объект предобратки значений временного ряда.
Требования к классу по методами атрибутам одинаковы с default.</p>
</dd>
<dt><strong>generate_res_func</strong><span class="classifier">func, default = generate_residuals.abs</span></dt><dd><p>Функция генерация невязки. На вход y_pred, y_true. В default это
абсолютная разница значений. Требования к функциям описаны в 
generate_residuals.py.</p>
</dd>
<dt><strong>res_analys_alg</strong><span class="classifier">object, default=stastics.Hotelling().</span></dt><dd><p>Объект поиска аномалий в остатках. В default это
статистика Хоттелинга.Требования к классам описаны в 
generate_residuals.py.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<p>Links to the papers</p>
<p class="rubric">Examples</p>
<p><a class="reference external" href="https://github.com/waico/tsad/tree/main/examples">https://github.com/waico/tsad/tree/main/examples</a></p>
<dl class="py method">
<dt class="sig sig-object py" id="tsad.main.AnomalyDetection.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encod_decode_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criterion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimiser</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">64</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">len_seq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points_ahead</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_epochs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_figures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">best_model_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./best_model.pt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stratify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Loader</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tsad/main.html#AnomalyDetection.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tsad.main.AnomalyDetection.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Обучение модели как для задачи прогнозирования так и для задачи anomaly
detection на имеющихся данных. fit = fit_predict_anmaloy</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>dfs</strong><span class="classifier">{{df*,ts*}, list of {df*,ts*}}</span></dt><dd><p>df*,ts* are pd.core.series.Seriesor or pd.core.frame.DataFrame data type.
Исходные данные. Данные не долнжны содержать np.nan вовсе, иметь постоянную 
и одинковую частоту of df.index и при этом не иметь пропусков. Проблему с 
пропуском решают дробление одно df на list of df.</p>
</dd>
<dt><strong>model</strong><span class="classifier">object of torch.nn.Module class, default=models.SimpleLSTM()</span></dt><dd><p>Используемая модель нейронной сети.</p>
</dd>
<dt><strong>criterion</strong><span class="classifier">object of torch.nn class, default=nn.MSELoss()</span></dt><dd><p>Критерий подсчета ошибки для оптмизации.</p>
</dd>
<dt><strong>optimiser</strong><span class="classifier">tuple = (torch.optim class ,default = torch.optim.Adam,</span></dt><dd><p>dict  (dict of arguments without params models) , default=default)
Example of optimiser : optimiser=(torch.optim.Adam,{‘lr’:0.001})
Метод оптимизации нейронной сети и его параметры, указанные в 
документации к torch.</p>
</dd>
<dt><strong>batch_size</strong><span class="classifier">int, default=64</span></dt><dd><p>Размер батча (Число сэмплов по которым усредняется градиент)</p>
</dd>
<dt><strong>len_seq</strong><span class="classifier">int, default=10</span></dt><dd><p>Размер окна (количество последовательных точек ряда), на котором
модель реально работает. По сути аналог порядка в авторегрессии.</p>
</dd>
<dt><strong>points_ahead</strong><span class="classifier">int, default=5</span></dt><dd><p>Горизонт прогнозирования.</p>
</dd>
<dt><strong>n_epochs</strong><span class="classifier">int, default=100</span></dt><dd><p>Количество эпох.</p>
</dd>
<dt><strong>&gt;&gt;&gt; train_test_split vars</strong></dt><dd><dl class="simple">
<dt>gap<span class="classifier">int, default=0</span></dt><dd><p>Сколько точек между трейном и тестом. Условно говоря,
если крайняя точка train а это t, то первая точка теста t + gap +1.
Параметр создан, чтобы можно было прогнозировать одну точку через большой 
дополнительный интервал времени.</p>
</dd>
<dt>shag<span class="classifier">int, default=1.</span></dt><dd><p>Шаг генерации выборки. Если первая точка была t у 1-ого сэмпла трейна,
то у 2-ого сэмла трейна она будет t + shag, если intersection=True, иначе 
тоже самое но без пересечений значений ряда.</p>
</dd>
<dt>intersection<span class="classifier">bool, default=True</span></dt><dd><p>Наличие значений ряда (одного момента времени) в различных сэмплах выборки.</p>
</dd>
<dt>test_size<span class="classifier">float or int, default=None</span></dt><dd><p>If float, should be between 0.0 and 1.0 and represent the proportion
of the dataset to include in the test split. If int, represents the
absolute number of test samples. If None, the value is set to the
complement of the train size. If <code class="docutils literal notranslate"><span class="pre">train_size</span></code> is also None, it will
be set to 0.25. *
<a href="#id1"><span class="problematic" id="id2">*</span></a><a class="reference external" href="https://github.com/scikit-learn/scikit-learn/blob/95119c13a/sklearn/model_selection/_split.py#L2076">https://github.com/scikit-learn/scikit-learn/blob/95119c13a/sklearn/model_selection/_split.py#L2076</a> 
Может быть 0, тогда вернет значения X,y</p>
</dd>
<dt>train_size<span class="classifier">float or int, default=None</span></dt><dd><p>If float, should be between 0.0 and 1.0 and represent the
proportion of the dataset to include in the train split. If
int, represents the absolute number of train samples. If None,
the value is automatically set to the complement of the test size. *
<a href="#id3"><span class="problematic" id="id4">*</span></a><a class="reference external" href="https://github.com/scikit-learn/scikit-learn/blob/95119c13a/sklearn/model_selection/_split.py#L2076">https://github.com/scikit-learn/scikit-learn/blob/95119c13a/sklearn/model_selection/_split.py#L2076</a></p>
</dd>
<dt>random_state<span class="classifier">int, RandomState instance or None, default=None</span></dt><dd><p>Controls the shuffling applied to the data before applying the split.
Pass an int for reproducible output across multiple function calls.
See <a class="reference external" href="https://scikit-learn.org/stable/glossary.html#term-random_state" title="(in scikit-learn v1.0)"><span class="xref std std-term">Glossary</span></a>.*
<a href="#id5"><span class="problematic" id="id6">*</span></a><a class="reference external" href="https://github.com/scikit-learn/scikit-learn/blob/95119c13a/sklearn/model_selection/_split.py#L2076">https://github.com/scikit-learn/scikit-learn/blob/95119c13a/sklearn/model_selection/_split.py#L2076</a></p>
</dd>
<dt>shuffle<span class="classifier">bool, default=True</span></dt><dd><p>Whether or not to shuffle the data before splitting. If shuffle=False
then stratify must be None. *</p>
</dd>
<dt>show_progress<span class="classifier">bool, default=True</span></dt><dd><p>Показывать или нет прогресс обучения с детализацией по эпохам.</p>
</dd>
<dt>show_figures<span class="classifier">bool, default=True</span></dt><dd><p>Показывать или нет результаты решения задачии anomaly detection 
и кривую трейна и валидации по эпохам.</p>
</dd>
<dt>best_model_file<span class="classifier">string, ‘./best_model.pt’</span></dt><dd><p>Путь до файла, где будет хранится лучшие веса модели</p>
</dd>
<dt>Loader<span class="classifier">class, default=ufesul.iterators.Loader.</span></dt><dd><p>Тип загрузчика, которую будет использовать как итератор в будущем, 
благодаря которому, есть возможность бить на бачи.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tsad.main.AnomalyDetection.forecast">
<span class="sig-name descname"><span class="pre">forecast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points_ahead</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Loader</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_figures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tsad/main.html#AnomalyDetection.forecast"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tsad.main.AnomalyDetection.forecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Прогнозирование временного ряда, в том числе векторного.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pd.core.series.Series or pd.core.frame.DataFrame data type</span></dt><dd><p>Исходные данные. Данные не долнжны содержать np.nan вовсе, иметь постоянную 
и одинковую частоту of df.index и при этом не иметь пропусков.</p>
</dd>
<dt><strong>points_ahead</strong><span class="classifier">int, default=5</span></dt><dd><p>Горизонт прогнозирования.</p>
</dd>
<dt><strong>show_figures</strong><span class="classifier">bool, default=True</span></dt><dd><p>Показывать или нет результаты решения задачии anomaly detection 
и кривую трейна и валидации по эпохам.</p>
</dd>
<dt><strong>Loader</strong><span class="classifier">class, default=iterators.Loader.</span></dt><dd><p>Тип загрузчика, которую будет использовать как итератор в будущем, 
благодаря которому, есть возможность бить на бачи.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tsad.main.AnomalyDetection.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./pipeline.pcl'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tsad/main.html#AnomalyDetection.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tsad.main.AnomalyDetection.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for loading pipeline.
It may be required for example after training.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>path</strong><span class="classifier">str</span></dt><dd></dd>
<dt><strong>Путь до сохраненного файла пайплайна.</strong></dt><dd></dd>
<dt><strong>Пайлайн должен быть в формате pickle</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tsad.main.AnomalyDetection.predict_anomaly">
<span class="sig-name descname"><span class="pre">predict_anomaly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Loader</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stratify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_figures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tsad/main.html#AnomalyDetection.predict_anomaly"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tsad.main.AnomalyDetection.predict_anomaly" title="Permalink to this definition">¶</a></dt>
<dd><p>Поиск аномалий в новом наборе данных</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>см self.fit() dockstring</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tsad.main.AnomalyDetection.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./pipeline.pcl'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tsad/main.html#AnomalyDetection.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tsad.main.AnomalyDetection.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for saving pipeline.
It may be required for example after training.
CPU.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>path</strong><span class="classifier">str</span></dt><dd></dd>
<dt><strong>Путь до файла, для сохранения пайплайна.</strong></dt><dd></dd>
<dt><strong>Пайлайн сохраняется в формате pickle</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tsad.stastics">
<span id="tsad-stastics-module"></span><h2>tsad.stastics module<a class="headerlink" href="#module-tsad.stastics" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="tsad.stastics.Hotelling">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">tsad.stastics.</span></span><span class="sig-name descname"><span class="pre">Hotelling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">koef_ucl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tsad/stastics.html#Hotelling"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tsad.stastics.Hotelling" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="tsad.stastics.Hotelling.feature_importances">
<span class="sig-name descname"><span class="pre">feature_importances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tsad/stastics.html#Hotelling.feature_importances"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tsad.stastics.Hotelling.feature_importances" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tsad.stastics.Hotelling.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tsad/stastics.html#Hotelling.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tsad.stastics.Hotelling.fit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tsad.stastics.Hotelling.fit_predict">
<span class="sig-name descname"><span class="pre">fit_predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tsad/stastics.html#Hotelling.fit_predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tsad.stastics.Hotelling.fit_predict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tsad.stastics.Hotelling.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tsad/stastics.html#Hotelling.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tsad.stastics.Hotelling.predict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tsad">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-tsad" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="tsad.eda.html" class="btn btn-neutral float-right" title="tsad.eda package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="Evaluating.html" class="btn btn-neutral float-left" title="Evaluation of AD algorithms perfomance" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, V. Kozitsin.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>